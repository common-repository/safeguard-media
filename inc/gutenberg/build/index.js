(()=>{"use strict";var e,t={998:()=>{const e=window.wp.blocks,t=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components,o=window.ReactJSXRuntime;function n(e){let t=WPSM_Popup_Uploader,a=jQuery,r=wpsm_safeguard_uploader_data.ID;wpsafeguard_process_setting("sendeditor","start");let o={action:"wpsm_get_file_settings",filename:e,post_id:r,type:"json",nonce:wpsm_safeguard_uploader_data.nonce};t.block("#wpsm-tabs-3"),a.ajax({method:"POST",url:ajaxurl,data:o}).done((function(a){if(a.parameters){const{width:r,height:o,remote:n}=a.parameters;t.setAttributes({name:e,width:r,height:o,remote:n?1:0})}t.dialog.dialog("close"),wpsafeguard_process_setting("sendeditor","end")})).always((function(){t.unblock("#wpsm-tabs-3")}))}function s(){return wpsm_safeguard_uploader_data.ID}function i(e){let t=WPSM_Popup_Uploader,a=jQuery,r=t.getPostID(),o={},n=a(e).attr("data-filename");a("#wpsafeguard_setting_body input").each((function(){var e=a(this).attr("name");o[e]="print_anywhere"==e||"allow_capture"==e||"allow_remote"==e?"checked"==a(this).attr("checked")?"checked":"":a(this).val()}));let s={action:"wpsm_save_file_settings",post_id:r,nname:n,set_data:o,nonce:wpsm_safeguard_uploader_data.nonce};wpsafeguard_process_setting("setting","start"),t.block("#wpsm-tabs-1"),a.ajax({method:"POST",url:ajaxurl,data:s}).done((function(e){a("#wpsafeguard_message").html(e.message),wpsafeguard_process_setting("setting","end"),t.send_editor(n),t.clear(),t.load_files()})).always((function(){t.unblock("#wpsm-tabs-1")}))}const d=JSON.parse('{"UU":"create-block/safeguard-media-gutenberg"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:d}){const{name:l,width:p,height:u,remote:_}=e;let c="";return l&&(c=`[safeguard name="${l}" width="${p}" height="${u}" remote="${_?1:0}"]`),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.InspectorControls,{children:(0,o.jsxs)(r.PanelBody,{title:(0,t.__)("Settings","safeguard-media"),children:[(0,o.jsx)(r.Button,{variant:"secondary",onClick:()=>{void 0===WPSM_Popup_Uploader.overridden&&(WPSM_Popup_Uploader.send_editor=n,WPSM_Popup_Uploader.saveSettings=i,WPSM_Popup_Uploader.getPostID=s,WPSM_Popup_Uploader.overridden=!0),WPSM_Popup_Uploader.setAttributes=d,WPSM_Popup_Uploader.dialog.dialog("open")},children:"Select File"}),(0,o.jsx)(r.__experimentalInputControl,{label:(0,t.__)("File ID","safeguard-media"),value:l,placeholder:(0,t.__)("File ID","safeguard-media"),onChange:e=>d({name:e})}),(0,o.jsx)(r.__experimentalInputControl,{label:(0,t.__)("Width","safeguard-media"),value:p,placeholder:(0,t.__)("Auto","safeguard-media"),onChange:e=>d({width:e})}),(0,o.jsx)(r.__experimentalInputControl,{label:(0,t.__)("Height","safeguard-media"),value:u,placeholder:(0,t.__)("Auto","safeguard-media"),onChange:e=>d({height:e})}),(0,o.jsx)(r.ToggleControl,{label:(0,t.__)("Allow Remote","safeguard-media"),checked:_,onChange:e=>d({remote:e})})]})}),(0,o.jsx)("div",{...(0,a.useBlockProps)(),children:c})]})},save:function({attributes:e}){const{name:t,width:r,height:n,remote:s}=e,i=a.useBlockProps.save();let d="";return t&&(d=`[safeguard name="${t}" width="${r}" height="${n}" remote="${s?1:0}"]`),(0,o.jsx)("div",{...i,children:d})}})}},a={};function r(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,a,o,n)=>{if(!a){var s=1/0;for(p=0;p<e.length;p++){a=e[p][0],o=e[p][1],n=e[p][2];for(var i=!0,d=0;d<a.length;d++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](a[d])))?a.splice(d--,1):(i=!1,n<s&&(s=n));if(i){e.splice(p--,1);var l=o();void 0!==l&&(t=l)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[a,o,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,s=a[0],i=a[1],d=a[2],l=0;if(s.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(d)var p=d(r)}for(t&&t(a);l<s.length;l++)n=s[l],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(p)},a=self.webpackChunksafeguard_media_gutenberg=self.webpackChunksafeguard_media_gutenberg||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=r.O(void 0,[350],(()=>r(998)));o=r.O(o)})();